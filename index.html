<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Dig Dug docs: Index</title>
	<link rel="stylesheet" href="styles/catalyst.css">
</head>
<body>
	<h1 class="mainHeader"><a href="index.html" class="projectName">
		
			<img src="logo.png" class="projectLogo"
				alt="Dig Dug" title="Dig Dug">
		
	</a></h1>
	
<nav class="mainMenu">
	
		<div class="modulesContainer">
			<h2 class="subsection-title modules">Modules</h2>
			<ul class="modules">
				
<li data-member-id="module:digdug/BrowserStackTunnel" class="">
	<a href="module-digdug_BrowserStackTunnel.html">digdug/BrowserStackTunnel</a>
</li>

<li data-member-id="module:digdug/CrossBrowserTestingTunnel" class="">
	<a href="module-digdug_CrossBrowserTestingTunnel.html">digdug/CrossBrowserTestingTunnel</a>
</li>

<li data-member-id="module:digdug/NullTunnel" class="">
	<a href="module-digdug_NullTunnel.html">digdug/NullTunnel</a>
</li>

<li data-member-id="module:digdug/SauceLabsTunnel" class="">
	<a href="module-digdug_SauceLabsTunnel.html">digdug/SauceLabsTunnel</a>
</li>

<li data-member-id="module:digdug/SeleniumTunnel" class="">
	<a href="module-digdug_SeleniumTunnel.html">digdug/SeleniumTunnel</a>
</li>

<li data-member-id="module:digdug/TestingBotTunnel" class="">
	<a href="module-digdug_TestingBotTunnel.html">digdug/TestingBotTunnel</a>
</li>

<li data-member-id="module:digdug/Tunnel" class="">
	<a href="module-digdug_Tunnel.html">digdug/Tunnel</a>
</li>

				<li><a href="global.html">Globals</a></li>
			</ul>
		</div>
	
</nav>
<div class="persistentTitle hidden"><a href="#overview">Index</a></div><main class="mainContent doc-index">
	<div class="index"><h1>ディグダグ</h1><p><a href="https://travis-ci.org/theintern/digdug"><img src="https://travis-ci.org/theintern/digdug.svg?branch=master" alt="Build Status"></a>
<a href="https://badge.fury.io/js/digdug"><img src="https://badge.fury.io/js/digdug.svg" alt="npm version"></a>
<a href="http://isitmaintained.com/project/theintern/digdug" title="Average time to resolve an issue"><img src="http://isitmaintained.com/badge/resolution/theintern/digdug.svg" alt="Average time to resolve an issue"></a>
<a href="http://isitmaintained.com/project/theintern/digdug" title="Percentage of issues still open"><img src="http://isitmaintained.com/badge/open/theintern/digdug.svg" alt="Percentage of issues still open"></a></p>
<p>Dig Dug is a simple abstraction library for downloading and launching WebDriver service tunnels and interacting with
the REST APIs of these services.</p>
<p>Dig Dug can run a local Selenium server, and it supports the following cloud testing services:</p>
<ul>
<li><a href="http://www.browserstack.com">BrowserStack</a></li>
<li><a href="http://www.crossbrowsertesting.com">CrossBrowserTesting</a></li>
<li><a href="http://www.saucelabs.com">Sauce Labs</a></li>
<li><a href="http://www.testingbot.com">TestingBot</a></li>
</ul>
<h2>Configuration</h2><p>In many cases, the only configuration you'll need to do to create a tunnel is provide authentication data. This can be provided by setting properties on tunnels or via environment variables. The tunnels use the following environment variables:</p>
<table>
<thead>
<tr>
<th>Tunnel class</th>
<th>Environment variables</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BrowserStackTunnel</code></td>
<td><code>BROWSERSTACK_USERNAME</code>, <code>BROWSERSTACK_ACCESS_KEY</code></td>
</tr>
<tr>
<td><code>CrossBrowserTestingTunnel</code></td>
<td><code>CBT_USERNAME</code>, <code>CBT_APIKEY</code></td>
</tr>
<tr>
<td><code>SauceLabsTunnel</code></td>
<td><code>SAUCE_USERNAME</code>, <code>SAUCE_ACCESS_KEY</code></td>
</tr>
<tr>
<td><code>TestingBotTunnel</code></td>
<td><code>TESTINGBOT_KEY</code>, <code>TESTINGBOT_SECRET</code></td>
</tr>
</tbody>
</table>
<p>Other properties, such as the local port the tunnel should serve on or the URL of a proxy server the tunnel should go through, can be passed to a tunnel constructor or set on a tunnel instance. See the pages for <a href="Tunnel.html">Tunnel</a> and the tunnel subclasses for available properties.</p>
<h2>Usage</h2><p>To create a new tunnel, import the desired tunnel class, create a new instance, and call its <code>start</code> method. <code>start</code> returns a Promise that resolves when the tunnel has successfully started. For example, to create a new Sauce Labs tunnel:</p>
<pre class="prettyprint source lang-js"><code>var SauceLabsTunnel = require('digdug/SauceLabsTunnel');
var tunnel = new SauceLabsTunnel();
tunnel.start().then(function () {
    // interact with the WebDriver server at tunnel.clientUrl
});</code></pre><p>Once a tunnel has been started, a test runner interacts with it as described in the service's documentation. The Sauce Labs and TestingBot executables start a WebDriver server on localhost that the test client communicates with. To interact with BrowserStack, a test client will connect to <code>hub.browserstack.com</code> after the tunnel has started.</p>
<p>The tunnel classes also provide a <code>sendJobState</code> convenience method to let the remote service know whether a test session passed or failed. This method accepts a session ID and an object containing service-specific data, and it returns a Promise that resolves if the job state was successfully updated.</p>
<pre class="prettyprint source lang-js"><code>tunnel.sendJobState(sessionId, { success: true });</code></pre><p>When testing is finished, call the tunnel's <code>stop</code> method to cleanly shut it down. This method returns a Promise that is resolved when the service tunnel executable has exited.</p>
<pre class="prettyprint source lang-js"><code>tunnel.stop().then(function () {
    // the tunnel has been shut down
});</code></pre><h2>Utilities</h2><p>Dig Dug includes a utility script, <code>digdugEnvironmnents</code>. After the digdug package has been installed, run this script to get a list of environments provided by a particular testing service.</p>
<pre class="prettyprint source"><code>$ ./node_modules/.bin/digdugEnvironments SauceLabsTunnel
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;4&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;5&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;6&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;7&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;8&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;9&quot;}
{&quot;platform&quot;:&quot;OS X 10.9&quot;,&quot;browserName&quot;:&quot;firefox&quot;,&quot;version&quot;:&quot;10&quot;}
...</code></pre><p>Note that BrowserStackTunnel requires that the <code>BROWSERSTACK_ACCESS_KEY</code> and <code>BROWSERSTACK_USERNAME</code> environment variables exist and are set to a user's account access key and username. The other tunnels do not (currently) require authentication to request an environment list.</p>
<h2>API documentation</h2><p><a href="https://theintern.github.io/digdug/">View API documentation</a></p>
<h2>License</h2><p>Dig Dug is a Dojo Foundation project offered under the <a href="LICENSE">New BSD</a> license.</p>
<p>© <a href="http://sitepen.com">SitePen, Inc.</a> and its <a href="https://github.com/theintern/digdug/graphs/contributors">contributors</a></p></div>

</main>


	<script src="scripts/prettify/prettify.js"></script>
	<script src="scripts/prettify/lang-css.js"></script>
	<script>prettyPrint();</script>
	<script src="scripts/nav.js"></script>
</body>
</html>